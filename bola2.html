<!DOCTYPE html>
<html>
  <head>
      
    <title>A-Frame Event to HTML - A-Frame</title>
    <meta name="description" content="A-Frame Event to HTML - A-Frame">
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>


  </head>
  <body>


    <audio src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/858/outfoxing.mp3" crossorigin="anonymous" ></audio>
    <button data-playing="false" class="tape-controls-play" role="switch" aria-checked="false">
        <span>Play/Pause</span>
    </button>
      
    <a-scene>
      <a-entity camera="userHeight: 1.6" look-controls cursor="rayOrigin: mouse"></a-entity>
      <a-box id="box" position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9" shadow></a-box>
      <a-sphere id="sphere" position="0 1.25 -5" radius="1.25" color="#EF2D5E" shadow></a-sphere>
      <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D" shadow></a-cylinder>
      <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4" shadow></a-plane>
      <a-sky color="#ECECEC"></a-sky>
    </a-scene>

  </body>
        <script>console.clear();

// instigate our audio context
/*
// for cross browser
const AudioContext = window.AudioContext || window.webkitAudioContext;
const audioCtx = new AudioContext();

// load some sound
const audioElement = document.querySelector('audio');
const track = audioCtx.createMediaElementSource(audioElement);

const playButton = document.querySelector('.tape-controls-play');

// play pause audio
playButton.addEventListener('click', function() {
	
	// check if context is in suspended state (autoplay policy)
	if (audioCtx.state === 'suspended') {
		audioCtx.resume();
	}
	
	if (this.dataset.playing === 'false') {
		audioElement.play();
		this.dataset.playing = 'true';
	// if track is playing pause it
	} else if (this.dataset.playing === 'true') {
		audioElement.pause();
		this.dataset.playing = 'false';
	}
	
	
}, false);

const gainNode = audioCtx.createGain();
const pannerOptions = {pan: 0};
const panner = new StereoPannerNode(audioCtx, pannerOptions);
track.connect(gainNode).connect(panner).connect(audioCtx.destination);


*/
  const playButton = document.querySelector('.tape-controls-play');

    var sounds = ["cagao.mp3", "copabr.mp3", "falazeze.mp3", "rosca.mp3", "serieb.mp3"]
    var mp3 = document.createElement("audio");

// play pause audio
playButton.addEventListener('click', function() {
          
    try{
       //  setInterval(function(){
            mp3.setAttribute('src', 'sound/' + sounds[Math.floor(Math.random()*sounds.length)]);
            
            //mp3.setAttribute('src', 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/858/outfoxing.mp3')
            mp3.load();
            document.documentElement.appendChild(mp3);
            mp3.play();
       // }, 2000)  
    } catch (err) {
        console.log(err)
    }
    
    

});

    </script>
</html>